@import colors
@import mixins

#calendar
  overflow: hidden
  width: 100%

$table-bg: darken($light-bg, 5%)
$table-border: 1px solid darken($light-bg, 9%)

.calendar-head
  position: relative
  text-align: center
  height: 80px

  .btn
    margin-top: 15px
    font-size: 25pt
    color: $blue

  p.calendar-month
    position: absolute
    width: 100%
    top: 20px
    left: 0px
    text-align: center

    font-size: 25pt

  p.calendar-year
    position: absolute
    width: 100%
    top: 0px
    left: 0px
    text-align: center

    font-size: 15pt

  .btn.prev
    position: absolute
    left: 0px
    top: 0px

  .btn.next
    position: absolute
    right: 0px
    top: 0px

  p
    margin: 0px

.calendar
  width: 100%

  table
    width: 100%
    background-color: $table-bg

    td
      border: $table-border
      padding: 4px

tr
  td.cal-day
    position: relative
    height: 120px
    width: 1 / 7

    .add-event
      position: absolute
      bottom: 10px
      left: 10px
      display: none

    &:hover
      .add-event
        position: absolute
        display: block

    &.focus
      .content
        border-bottom: 3px solid $green !important

        span.day-no
          color: $green

    .content
      position: absolute
      left: 0px
      top: 0px
      width: 100%
      height: 100%
      background-color: $table-bg
      border: 1px solid $table-border

      span.day-name
        color: #bbb
        padding-right: 4px
  
      span.day-no
        position: absolute
        bottom: 10px
        right: 10px
        font-size: 20pt
        font-weight: bold
        color: #666
  
  ul
    li.cal-event
      position: relative
      width: 100%
      margin-bottom: 1px
      color: white
      white-space: nowrap
      height: 22px
      overflow: hidden
      font-weight: 300
      padding:
        bottom: 2px
        top: 2px
        left: 5px
        right: 5px

      .cal-event-title
        text-transform: uppercase
        font-size: 11pt

      .cal-event-timing
        position: absolute
        right: 0px
        top: 0px
        height: 22px
        padding: 2px 5px
        line-height: 18px
        vertical-align: middle
        font-size: 10pt

  // hover animation
  td.cal-day.hoverable
    &:hover, &.focused
      .content
        +transition(left 0.2s ease-out, top 0.2s ease-out, width 0.2s ease-out, height 0.2s ease-out, background-color 0.2s ease-out)
        width: 180%
        height: 150%
        left: -25%
        top: -25%
        border: $table-border
        background-color: white
        padding: 5px
        color: white
        z-index: 1000
 
    &:last-child:hover, &:last-child.focused
      .content
        right: -1px
        left: auto
  
    &:first-child:hover, &:first-child.focused
      .content
        left: -2px
        right: auto

  &:last-child
    td.cal-day:hover, td.cal-day.focused
      .content
        bottom: -1px
        top: auto

  &:first-child
    td.cal-day:hover, td.cal-day.focused
      .content
        top: -1px
        bottom: auto
